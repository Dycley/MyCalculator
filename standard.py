# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'standard.ui'
#
# Created by: PyQt5 UI code generator 5.15.4
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.


from PyQt5 import QtCore, QtGui, QtWidgets
import math, re, random

from PyQt5.QtGui import QTextCursor


class Ui_MainWindow(object):
    def __init__(self):
        self.ans = 0
        self.text_len = 0

    def setupUi(self, MainWindow):
        MainWindow.setObjectName("MainWindow")
        MainWindow.resize(800, 1200)
        icon = QtGui.QIcon()
        icon.addPixmap(QtGui.QPixmap("calculator.ico"), QtGui.QIcon.Normal, QtGui.QIcon.Off)
        MainWindow.setWindowIcon(icon)
        self.centralwidget = QtWidgets.QWidget(MainWindow)
        self.centralwidget.setObjectName("centralwidget")
        self.verticalLayout = QtWidgets.QVBoxLayout(self.centralwidget)
        self.verticalLayout.setObjectName("verticalLayout")
        self.textEdit = QtWidgets.QTextEdit(self.centralwidget)
        self.textEdit.setMaximumSize(QtCore.QSize(16777215, 200))
        font = QtGui.QFont()
        font.setPointSize(24)
        self.textEdit.setFont(font)
        self.textEdit.setObjectName("textEdit")
        self.verticalLayout.addWidget(self.textEdit)
        self.label = QtWidgets.QLabel(self.centralwidget)
        self.label.setMaximumSize(QtCore.QSize(16777215, 20))
        font = QtGui.QFont()
        font.setFamily("Arial Black")
        font.setPointSize(8)
        font.setBold(True)
        font.setItalic(True)
        font.setWeight(75)
        self.label.setFont(font)
        self.label.setAlignment(QtCore.Qt.AlignCenter)
        self.label.setObjectName("label")
        self.verticalLayout.addWidget(self.label)
        self.gridLayout = QtWidgets.QGridLayout()
        self.gridLayout.setObjectName("gridLayout")
        self.pushButton_4 = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_4.sizePolicy().hasHeightForWidth())
        self.pushButton_4.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(32)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_4.setFont(font)
        self.pushButton_4.setObjectName("pushButton_4")
        self.gridLayout.addWidget(self.pushButton_4, 3, 0, 1, 1)
        self.pushButton_9 = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_9.sizePolicy().hasHeightForWidth())
        self.pushButton_9.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(32)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_9.setFont(font)
        self.pushButton_9.setObjectName("pushButton_9")
        self.gridLayout.addWidget(self.pushButton_9, 4, 2, 1, 1)
        self.pushButton_8 = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_8.sizePolicy().hasHeightForWidth())
        self.pushButton_8.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(32)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_8.setFont(font)
        self.pushButton_8.setObjectName("pushButton_8")
        self.gridLayout.addWidget(self.pushButton_8, 4, 1, 1, 1)
        self.pushButton_back = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_back.sizePolicy().hasHeightForWidth())
        self.pushButton_back.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_back.setFont(font)
        self.pushButton_back.setObjectName("pushButton_back")
        self.gridLayout.addWidget(self.pushButton_back, 2, 3, 1, 1)
        self.horizontalLayout_23 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_23.setObjectName("horizontalLayout_23")
        self.pushButton_pi = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_pi.sizePolicy().hasHeightForWidth())
        self.pushButton_pi.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_pi.setFont(font)
        self.pushButton_pi.setObjectName("pushButton_pi")
        self.horizontalLayout_23.addWidget(self.pushButton_pi)
        self.pushButton_e = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_e.sizePolicy().hasHeightForWidth())
        self.pushButton_e.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_e.setFont(font)
        self.pushButton_e.setObjectName("pushButton_e")
        self.horizontalLayout_23.addWidget(self.pushButton_e)
        self.gridLayout.addLayout(self.horizontalLayout_23, 1, 2, 1, 1)
        self.pushButton_eql = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_eql.sizePolicy().hasHeightForWidth())
        self.pushButton_eql.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(32)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_eql.setFont(font)
        self.pushButton_eql.setObjectName("pushButton_eql")
        self.gridLayout.addWidget(self.pushButton_eql, 5, 4, 1, 1)
        self.pushButton_sqrt = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_sqrt.sizePolicy().hasHeightForWidth())
        self.pushButton_sqrt.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(19)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_sqrt.setFont(font)
        self.pushButton_sqrt.setObjectName("pushButton_sqrt")
        self.gridLayout.addWidget(self.pushButton_sqrt, 1, 3, 1, 1)
        self.pushButton_div = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_div.sizePolicy().hasHeightForWidth())
        self.pushButton_div.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(24)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_div.setFont(font)
        self.pushButton_div.setObjectName("pushButton_div")
        self.gridLayout.addWidget(self.pushButton_div, 4, 4, 1, 1)
        self.pushButton_mul = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_mul.sizePolicy().hasHeightForWidth())
        self.pushButton_mul.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(24)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_mul.setFont(font)
        self.pushButton_mul.setObjectName("pushButton_mul")
        self.gridLayout.addWidget(self.pushButton_mul, 4, 3, 1, 1)
        self.pushButton_2 = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_2.sizePolicy().hasHeightForWidth())
        self.pushButton_2.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(32)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_2.setFont(font)
        self.pushButton_2.setObjectName("pushButton_2")
        self.gridLayout.addWidget(self.pushButton_2, 2, 1, 1, 1)
        self.pushButton_clear = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_clear.sizePolicy().hasHeightForWidth())
        self.pushButton_clear.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(23)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_clear.setFont(font)
        self.pushButton_clear.setObjectName("pushButton_clear")
        self.gridLayout.addWidget(self.pushButton_clear, 2, 4, 1, 1)
        self.pushButton_exp = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_exp.sizePolicy().hasHeightForWidth())
        self.pushButton_exp.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(23)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_exp.setFont(font)
        self.pushButton_exp.setObjectName("pushButton_11")
        self.gridLayout.addWidget(self.pushButton_exp, 5, 2, 1, 1)
        self.pushButton_3 = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_3.sizePolicy().hasHeightForWidth())
        self.pushButton_3.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(32)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_3.setFont(font)
        self.pushButton_3.setObjectName("pushButton_3")
        self.gridLayout.addWidget(self.pushButton_3, 2, 2, 1, 1)
        self.pushButton_ans = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_ans.sizePolicy().hasHeightForWidth())
        self.pushButton_ans.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(23)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_ans.setFont(font)
        self.pushButton_ans.setObjectName("pushButton_ans")
        self.gridLayout.addWidget(self.pushButton_ans, 5, 3, 1, 1)
        self.pushButton_6 = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_6.sizePolicy().hasHeightForWidth())
        self.pushButton_6.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(32)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_6.setFont(font)
        self.pushButton_6.setObjectName("pushButton_6")
        self.gridLayout.addWidget(self.pushButton_6, 3, 2, 1, 1)
        self.pushButton_mod = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_mod.sizePolicy().hasHeightForWidth())
        self.pushButton_mod.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(19)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_mod.setFont(font)
        self.pushButton_mod.setObjectName("pushButton_68")
        self.gridLayout.addWidget(self.pushButton_mod, 1, 4, 1, 1)
        self.pushButton_plus = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_plus.sizePolicy().hasHeightForWidth())
        self.pushButton_plus.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(32)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_plus.setFont(font)
        self.pushButton_plus.setObjectName("pushButton_plus")
        self.gridLayout.addWidget(self.pushButton_plus, 3, 3, 1, 1)
        self.horizontalLayout_3 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_3.setObjectName("horizontalLayout_3")
        self.pushButton_lbra = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_lbra.sizePolicy().hasHeightForWidth())
        self.pushButton_lbra.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_lbra.setFont(font)
        self.pushButton_lbra.setObjectName("pushButton_lbra")
        self.horizontalLayout_3.addWidget(self.pushButton_lbra)
        self.pushButton_rbra = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_rbra.sizePolicy().hasHeightForWidth())
        self.pushButton_rbra.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_rbra.setFont(font)
        self.pushButton_rbra.setObjectName("pushButton_rbra")
        self.horizontalLayout_3.addWidget(self.pushButton_rbra)
        self.gridLayout.addLayout(self.horizontalLayout_3, 1, 0, 1, 1)
        self.pushButton_sub = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_sub.sizePolicy().hasHeightForWidth())
        self.pushButton_sub.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(32)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_sub.setFont(font)
        self.pushButton_sub.setObjectName("pushButton_sub")
        self.gridLayout.addWidget(self.pushButton_sub, 3, 4, 1, 1)
        self.pushButton_1 = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_1.sizePolicy().hasHeightForWidth())
        self.pushButton_1.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(32)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_1.setFont(font)
        self.pushButton_1.setObjectName("pushButton")
        self.gridLayout.addWidget(self.pushButton_1, 2, 0, 1, 1)
        self.pushButton_5 = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_5.sizePolicy().hasHeightForWidth())
        self.pushButton_5.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(32)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_5.setFont(font)
        self.pushButton_5.setObjectName("pushButton_5")
        self.gridLayout.addWidget(self.pushButton_5, 3, 1, 1, 1)
        self.pushButton_0 = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_0.sizePolicy().hasHeightForWidth())
        self.pushButton_0.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(32)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_0.setFont(font)
        self.pushButton_0.setObjectName("pushButton_0")
        self.gridLayout.addWidget(self.pushButton_0, 5, 1, 1, 1)
        self.horizontalLayout_4 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_4.setObjectName("horizontalLayout_4")
        self.pushButton_squ = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_squ.sizePolicy().hasHeightForWidth())
        self.pushButton_squ.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_squ.setFont(font)
        self.pushButton_squ.setObjectName("pushButton_squ")
        self.horizontalLayout_4.addWidget(self.pushButton_squ)
        self.pushButton_cube = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_cube.sizePolicy().hasHeightForWidth())
        self.pushButton_cube.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_cube.setFont(font)
        self.pushButton_cube.setObjectName("pushButton_cube")
        self.horizontalLayout_4.addWidget(self.pushButton_cube)
        self.gridLayout.addLayout(self.horizontalLayout_4, 1, 1, 1, 1)
        self.horizontalLayout_10 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_10.setObjectName("horizontalLayout_10")
        self.pushButton_sin = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_sin.sizePolicy().hasHeightForWidth())
        self.pushButton_sin.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_sin.setFont(font)
        self.pushButton_sin.setObjectName("pushButton_sin")
        self.horizontalLayout_10.addWidget(self.pushButton_sin)
        self.pushButton_cos = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_cos.sizePolicy().hasHeightForWidth())
        self.pushButton_cos.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_cos.setFont(font)
        self.pushButton_cos.setObjectName("pushButton_cos")
        self.horizontalLayout_10.addWidget(self.pushButton_cos)
        self.pushButton_tan = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_tan.sizePolicy().hasHeightForWidth())
        self.pushButton_tan.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_tan.setFont(font)
        self.pushButton_tan.setObjectName("pushButton_tan")
        self.horizontalLayout_10.addWidget(self.pushButton_tan)
        self.gridLayout.addLayout(self.horizontalLayout_10, 0, 2, 1, 2)
        self.pushButton_7 = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_7.sizePolicy().hasHeightForWidth())
        self.pushButton_7.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(32)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_7.setFont(font)
        self.pushButton_7.setObjectName("pushButton_7")
        self.gridLayout.addWidget(self.pushButton_7, 4, 0, 1, 1)
        self.pushButton_dot = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_dot.sizePolicy().hasHeightForWidth())
        self.pushButton_dot.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(32)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_dot.setFont(font)
        self.pushButton_dot.setObjectName("pushButton_10")
        self.gridLayout.addWidget(self.pushButton_dot, 5, 0, 1, 1)
        self.horizontalLayout_20 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_20.setObjectName("horizontalLayout_20")
        self.pushButton_ln = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_ln.sizePolicy().hasHeightForWidth())
        self.pushButton_ln.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_ln.setFont(font)
        self.pushButton_ln.setObjectName("pushButton_lg")
        self.horizontalLayout_20.addWidget(self.pushButton_ln)
        self.pushButton_abs = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_abs.sizePolicy().hasHeightForWidth())
        self.pushButton_abs.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_abs.setFont(font)
        self.pushButton_abs.setObjectName("pushButton_abs")
        self.horizontalLayout_20.addWidget(self.pushButton_abs)
        self.gridLayout.addLayout(self.horizontalLayout_20, 0, 0, 1, 1)
        self.horizontalLayout_24 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_24.setObjectName("horizontalLayout_24")
        self.pushButton_pow = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_pow.sizePolicy().hasHeightForWidth())
        self.pushButton_pow.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_pow.setFont(font)
        self.pushButton_pow.setObjectName("pushButton_62")
        self.horizontalLayout_24.addWidget(self.pushButton_pow)
        self.pushButton_rec = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_rec.sizePolicy().hasHeightForWidth())
        self.pushButton_rec.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_rec.setFont(font)
        self.pushButton_rec.setObjectName("pushButton_rec")
        self.horizontalLayout_24.addWidget(self.pushButton_rec)
        self.gridLayout.addLayout(self.horizontalLayout_24, 0, 1, 1, 1)
        self.pushButton_rnd = QtWidgets.QPushButton(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pushButton_rnd.sizePolicy().hasHeightForWidth())
        self.pushButton_rnd.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(19)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton_rnd.setFont(font)
        self.pushButton_rnd.setObjectName("pushButton_rnd")
        self.gridLayout.addWidget(self.pushButton_rnd, 0, 4, 1, 1)
        self.verticalLayout.addLayout(self.gridLayout)
        MainWindow.setCentralWidget(self.centralwidget)
        self.menubar = QtWidgets.QMenuBar(MainWindow)
        self.menubar.setGeometry(QtCore.QRect(0, 0, 719, 22))
        self.menubar.setObjectName("menubar")
        self.menu = QtWidgets.QMenu(self.menubar)
        self.menu.setObjectName("menu")
        self.menu_2 = QtWidgets.QMenu(self.menubar)
        self.menu_2.setObjectName("menu_2")
        MainWindow.setMenuBar(self.menubar)
        self.statusbar = QtWidgets.QStatusBar(MainWindow)
        self.statusbar.setObjectName("statusbar")
        MainWindow.setStatusBar(self.statusbar)
        self.action_2 = QtWidgets.QAction(MainWindow)
        self.action_2.setObjectName("action_2")
        self.actionk_3 = QtWidgets.QAction(MainWindow)
        self.actionk_3.setObjectName("actionk_3")
        self.actiond_4 = QtWidgets.QAction(MainWindow)
        self.actiond_4.setObjectName("actiond_4")
        self.actionh_5 = QtWidgets.QAction(MainWindow)
        self.actionh_5.setObjectName("actionh_5")
        self.actionk_1 = QtWidgets.QAction(MainWindow)
        self.actionk_1.setObjectName("actionk_1")
        self.actionk_close = QtWidgets.QAction(MainWindow)
        self.actionk_close.setObjectName("actionk_clsoe")
        self.menu.addAction(self.actionk_1)
        self.menu.addAction(self.action_2)
        self.menu.addAction(self.actionk_3)
        self.menu.addAction(self.actiond_4)
        self.menu.addAction(self.actionh_5)
        self.menu.addAction(self.actionk_close)
        self.menubar.addAction(self.menu.menuAction())
        self.menubar.addAction(self.menu_2.menuAction())

        self.cursor = self.textEdit.textCursor()
        self.cursor.movePosition(QTextCursor.End)

        self.retranslateUi(MainWindow)

        self.actionk_close.triggered.connect(MainWindow.close)
        self.pushButton_1.clicked.connect(lambda: self.display("1"))
        self.pushButton_2.clicked.connect(lambda: self.display("2"))
        self.pushButton_3.clicked.connect(lambda: self.display("3"))
        self.pushButton_4.clicked.connect(lambda: self.display("4"))
        self.pushButton_5.clicked.connect(lambda: self.display("5"))
        self.pushButton_6.clicked.connect(lambda: self.display("6"))
        self.pushButton_7.clicked.connect(lambda: self.display("7"))
        self.pushButton_8.clicked.connect(lambda: self.display("8"))
        self.pushButton_9.clicked.connect(lambda: self.display("9"))
        self.pushButton_0.clicked.connect(lambda: self.display("0"))
        self.pushButton_exp.clicked.connect(lambda: self.display("E"))
        self.pushButton_dot.clicked.connect(lambda: self.display("."))
        self.pushButton_mul.clicked.connect(lambda: self.display("×", 1))
        self.pushButton_plus.clicked.connect(lambda: self.display("+", 1))
        self.pushButton_sub.clicked.connect(lambda: self.display("-", 1))
        self.pushButton_div.clicked.connect(lambda: self.display("/", 1))
        self.pushButton_lbra.clicked.connect(lambda: self.display("("))
        self.pushButton_rbra.clicked.connect(lambda: self.display(")"))
        self.pushButton_ln.clicked.connect(lambda: self.display("ln("))
        self.pushButton_abs.clicked.connect(lambda: self.display("abs("))
        self.pushButton_sin.clicked.connect(lambda: self.display("sin("))
        self.pushButton_cos.clicked.connect(lambda: self.display("cos("))
        self.pushButton_tan.clicked.connect(lambda: self.display("tan("))
        self.pushButton_pi.clicked.connect(lambda: self.display("π"))
        self.pushButton_e.clicked.connect(lambda: self.display("e"))
        self.pushButton_rnd.clicked.connect(lambda: self.display("Rnd"))
        self.pushButton_mod.clicked.connect(lambda: self.display(" mod ", 1))
        self.pushButton_sqrt.clicked.connect(lambda: self.display("sqrt("))
        self.pushButton_squ.clicked.connect(lambda: self.display("^2", 1))
        self.pushButton_cube.clicked.connect(lambda: self.display("^3", 1))
        self.pushButton_pow.clicked.connect(lambda: self.display("^", 1))
        self.pushButton_rec.clicked.connect(lambda: self.display("^-1", 1))
        self.pushButton_ans.clicked.connect(lambda: self.display("ANS"))
        self.pushButton_eql.clicked.connect(lambda: self.display("\n", 1))
        self.pushButton_clear.clicked.connect(self.textEdit.clear)
        self.pushButton_clear.clicked.connect(self.label.clear)
        self.pushButton_back.clicked.connect(self.backspace)
        self.textEdit.textChanged.connect(self.input_text)

        self.actiond_4.triggered.connect(self.open_mortgage)
        self.actionk_3.triggered.connect(self.open_Date)

        QtCore.QMetaObject.connectSlotsByName(MainWindow)

    def retranslateUi(self, MainWindow):
        _translate = QtCore.QCoreApplication.translate
        MainWindow.setWindowTitle(_translate("MainWindow", "计算器"))
        self.textEdit.setHtml(_translate("MainWindow",
                                         "<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.0//EN\" \"http://www.w3.org/TR/REC-html40/strict.dtd\">\n"
                                         "<html><head><meta name=\"qrichtext\" content=\"1\" /><style type=\"text/css\">\n"
                                         "p, li { white-space: pre-wrap; }\n"
                                         "</style></head><body style=\" font-family:\'SimSun\'; font-size:24pt; font-weight:400; font-style:normal;\">\n"
                                         "<p style=\"-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"><br /></p></body></html>"))
        self.pushButton_4.setText(_translate("MainWindow", "4"))
        self.pushButton_9.setText(_translate("MainWindow", "9"))
        self.pushButton_8.setText(_translate("MainWindow", "8"))
        self.pushButton_back.setText(_translate("MainWindow", "退格"))
        self.pushButton_pi.setText(_translate("MainWindow", "π"))
        self.pushButton_e.setText(_translate("MainWindow", "e"))
        self.pushButton_eql.setText(_translate("MainWindow", "="))
        self.pushButton_sqrt.setText(_translate("MainWindow", "sqrt"))
        self.pushButton_div.setText(_translate("MainWindow", "/"))
        self.pushButton_mul.setText(_translate("MainWindow", "×"))
        self.pushButton_2.setText(_translate("MainWindow", "2"))
        self.pushButton_clear.setText(_translate("MainWindow", "AC"))
        self.pushButton_exp.setText(_translate("MainWindow", "EXP"))
        self.pushButton_3.setText(_translate("MainWindow", "3"))
        self.pushButton_ans.setText(_translate("MainWindow", "ANS"))
        self.pushButton_6.setText(_translate("MainWindow", "6"))
        self.pushButton_mod.setText(_translate("MainWindow", "mod"))
        self.pushButton_plus.setText(_translate("MainWindow", "+"))
        self.pushButton_lbra.setText(_translate("MainWindow", "("))
        self.pushButton_rbra.setText(_translate("MainWindow", ")"))
        self.pushButton_sub.setText(_translate("MainWindow", "-"))
        self.pushButton_1.setText(_translate("MainWindow", "1"))
        self.pushButton_5.setText(_translate("MainWindow", "5"))
        self.pushButton_0.setText(_translate("MainWindow", "0"))
        self.pushButton_squ.setText(_translate("MainWindow", "□²"))
        self.pushButton_cube.setText(_translate("MainWindow", "□³"))
        self.pushButton_sin.setText(_translate("MainWindow", "sin"))
        self.pushButton_cos.setText(_translate("MainWindow", "cos"))
        self.pushButton_tan.setText(_translate("MainWindow", "tan"))
        self.pushButton_7.setText(_translate("MainWindow", "7"))
        self.pushButton_dot.setText(_translate("MainWindow", "."))
        self.pushButton_ln.setText(_translate("MainWindow", "ln"))
        self.pushButton_abs.setText(_translate("MainWindow", "| |"))
        self.pushButton_pow.setText(_translate("MainWindow", "^"))
        self.pushButton_rec.setText(_translate("MainWindow", "1/x"))
        self.pushButton_rnd.setText(_translate("MainWindow", "Rnd"))
        self.menu.setTitle(_translate("MainWindow", "选项"))
        self.menu_2.setTitle(_translate("MainWindow", "关于"))
        self.action_2.setText(_translate("MainWindow", "程序员"))
        self.actionk_3.setText(_translate("MainWindow", "日期计算"))
        self.actiond_4.setText(_translate("MainWindow", "利息计算"))
        self.actionh_5.setText(_translate("MainWindow", "货币转换"))
        self.actionk_1.setText(_translate("MainWindow", "标准"))
        self.actionk_close.setText(_translate("MainWindow", "关闭"))

    # 在屏幕上显示
    def display(self, ch, n=0):
        self.label.clear()
        last_line = self.textEdit.toPlainText().split("\n")[-1]
        if last_line and last_line[0] == "=":
            exp = self.textEdit.toPlainText()
            if n == 1:
                self.textEdit.setText(exp + "\nANS" + ch)
            elif n == 0:
                self.textEdit.setText(exp + "\n" + ch)
        else:
            exp = self.textEdit.toPlainText()
            self.textEdit.setText(exp + ch)
        self.textEdit.setTextCursor(self.cursor)

    # 退格
    def backspace(self):
        self.label.clear()
        exp = self.textEdit.toPlainText()
        self.textEdit.setText(exp[:-1])
        self.textEdit.setTextCursor(self.cursor)

    # 计算
    def calculate(self):
        self.label.clear()
        ori = self.textEdit.toPlainText().split("\n")
        while ori[-1] == "":
            ori.pop()
        exp = ori[-1]
        if exp[0] == "=":
            exp = exp[1:]
        exp += ")" * (exp.count("(") - exp.count(")"))
        exp = "#" + exp + "#"
        letter1 = "ABCDFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrestuvwxyzπ0123456789"
        letter2 = "01234567890eπ"
        letter3 = "ABCDFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrestuvwxyzπ"
        i = 1
        while i < len(exp):
            if exp[i] == ")" and exp[i + 1] in letter1:
                exp = exp[:i + 1] + "*" + exp[i + 1:]
            elif exp[i] == "(" and exp[i - 1] in letter2:
                exp = exp[:i] + "*" + exp[i:]
            elif (exp[i] in letter2 and exp[i + 1] in letter3) or (exp[i] in letter3 and exp[i + 1] in letter2) or (
                    exp[i] == "S" and "a" <= exp[i + 1] <= "z"):
                exp = exp[:i + 1] + "*" + exp[i + 1:]
            i += 1
        exp = exp[1:-1]
        exp = exp.replace("e", "math.e").replace("E", "*10**").replace("sin", "math.sin").replace("cos",
                                                                                                  "math.cos").replace(
            "tan",
            "math.tan").replace(
            ")(", ")*(").replace("ANS", "self.ans").replace("π", "math.pi").replace("^", "**").replace("Rnd",
                                                                                                       "random.random()").replace(
            "sqrt", "math.sqrt").replace("ln", "math.log").replace("mod", "%").replace("×", "*")
        try:
            print(exp)
            self.ans = eval(exp)
            answer = self.textEdit.toPlainText() + "= " + str(self.ans)
            self.textEdit.setText(answer)
            self.textEdit.setTextCursor(self.cursor)
        except ZeroDivisionError as z:
            self.label.setText("Division by 0!")
        except SyntaxError:
            self.label.setText("Syntax Error!")
        except ValueError:
            self.label.setText("Math domain error!")
        except Exception as e:
            print(e)
            self.label.setText("Syntax Error!")
        finally:
            return

    def input_text(self):
        l = len(self.textEdit.toPlainText())
        if l > self.text_len:
            letter = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrestuvwxyzπ0123456789 +-*/×%\n()^."
            if self.textEdit.toPlainText()[-1] not in letter:
                self.backspace()
            elif self.textEdit.toPlainText()[-1] == "\n":
                last_sec = self.textEdit.toPlainText().split("\n")[-2]
                if last_sec != "" and last_sec[0] != "=":
                    self.calculate()
                self.text_len = l

    def open_mortgage(self):                                 # 利息计算
        import mortgage
        self.child_window = mortgage.Ui_Mortgage()
        self.child_window.setupUi(self.child_window)
        self.child_window.show()

    def open_Date(self):                                 # 日期计算
        import date
        self.child_window = date.Ui_Date()
        self.child_window.setupUi(self.child_window)
        self.child_window.show()


# 文本游标
